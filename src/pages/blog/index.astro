---
import MainLayout from "../../layouts/MainLayout.astro"
import  PostCard  from "../../components/PostCard.astro"
//utils import
import { formatBlogPosts } from "../../js/utils"

const allPosts = await Astro.glob("./*.md")
const formattedPosts = formatBlogPosts(allPosts)
// js customizations
// const formattedPosts = formatBlogPosts(allPosts, {
// 	filterOutDrafts: false,
// 	filterOutFuturePost: false,
// 	sortByDate: false,
// 	limit: 6,
// })
console.log("ALL: ", allPosts)
---


<MainLayout title="Blog" description="This is the blog homepage">
	<section class="container" aria-label="New Blog Posts">
		<h1 class="h1"> New Blog Posts</h1>
		<div class="post-container">
			{
				formattedPosts.map((post) => 
				<PostCard 
					frontmatter={post.frontmatter} 
					url={post.url} 
					tagType="h2" 
				/>)
			}
		</div>
	</section>
</MainLayout>